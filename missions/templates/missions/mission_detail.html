{% extends "base-missions.html" %}

{% block content %}
<h1>{{ object.ship.name }}: Mission ”{{ object.name }}”</h1>

<h2>Assignments</h2>
<table class="table">
    <thead>
    <tr>
        <th scope="col">Position</th>
        <th scope="col">Assignment</th>
        <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for assignment in object.assignment_set.all %}
    <tr>
        <td>{{ assignment.position.name }}</td>
        <td>{{ assignment.user.id }}</td>
        <td>
            <a type="button" class="btn btn-outline-primary btn-sm" role="button" aria-pressed="true"
               href="{% url 'assignee' object.id assignment.id %}">Assign</a>

            <form method="POST" action="{% url 'assignment' object.id assignment.id %}">
                {% csrf_token %}
                <input type="hidden" name="method" value="DELETE" />
                <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<a type="button" class="btn btn-outline-primary btn-sm" href="{% url 'assignment-create' object.id %}">Add</a>


{% endblock %}